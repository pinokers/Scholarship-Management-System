<main>
	<%- include('../partials/adminsidebar') %>
	
	<div id="main-wrapper">
		
		<div class="bg-white shadow-sm p-3">
			<span class="me-3" id="sidebar-toggler-btn"><i class="fas fa-bars"></i></span>
			<h5 class="m-0 color-theme d-inline-block"></i>Profile</h5>
		</div>
		
		<form action="/admin/profile?_method=PUT" method="POST" class="w-75 border ms-3 my-3 p-3 bg-white rounded-2 shadow" style="min-width: 400px;">
			<div class="row">
				<div class="col-sm-6 mb-4">
					<label for="first-name" class="form-label">Name</label>
					<input type="text" name="admin[name]" class="form-control" id="first-name" placeholder="Enter first name.." value="<%= currentUser.name %>" required>
				</div>
				<div class="mb-4">
					<label for="email" class="form-label">Email</label>
					<input type="email" id="email" class="form-control" value="<%= currentUser.email %>" disabled>
				</div>
				<div class="mb-4">
					<label for="phone" class="form-label">Phone</label>
					<input type="number" name="admin[contact]" class="form-control" id="phone" placeholder="Enter phone.." value="<%= currentUser.contact %>">
				</div>
				<div class="mb-4">
					<label for="address" class="form-label">Address</label>
					<input type="text" name="admin[address]" class="form-control" id="address" placeholder="Enter address.." value="<%= currentUser.address %>">
				</div>
				<!-- Add Password Input Field -->
				<div class="mb-4">
					<label for="password" class="form-label">Password</label>
					<div class="input-group">
					  <input
						type="password"
						name="admin[password]"
						class="form-control"
						id="password"
						placeholder="Enter new password.."
					  >
					  <div class="input-group-append">
						<button type="button" class="btn btn-outline-secondary" id="togglePassword">
						  <i class="fas fa-eye" id="eyeIcon"></i>
						</button>
					  </div>
					</div>
				  </div>
				  
				<button type="submit" class="btn w-75 d-block m-auto mt-4">Update</button>
			</div>
		</form>	
	</div>
	<script>
		const togglePassword = document.querySelector('#togglePassword');
		const passwordInput = document.querySelector('#password');
		const eyeIcon = document.querySelector('#eyeIcon');
	
		togglePassword.addEventListener('click', () => {
			if (passwordInput.type === 'password') {
				passwordInput.type = 'text';
				eyeIcon.classList.remove('fa-eye');
				eyeIcon.classList.add('fa-eye-slash');
			} else {
				passwordInput.type = 'password';
				eyeIcon.classList.remove('fa-eye-slash');
				eyeIcon.classList.add('fa-eye');
			}
		});
	</script>
</main>